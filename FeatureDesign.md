# 주요 기능 설계 (Feature Design)

---

## 개요

이 문서는 BotFolio 서비스의 **핵심 기능**을  
사용자/관리자/개발자 관점에서 “기능 단위”로 구조화하여  
상세 동작, 화면, API, 알림, 예외처리 등을 구체적으로 정리합니다.  
각 기능은 [Requirement.md](./Requirement.md) 및 [Architecture.md](./Architecture.md)에서  
파생된 실제 구현 가이드입니다.

---

## 목차

- [FTR-01 메인 대시보드 요약](#ftr-01-메인-대시보드-요약)
- [FTR-02 실시간 주가 조회](#ftr-02-실시간-주가-조회)
- [FTR-03 직접 주문/취소](#ftr-03-직접-주문취소)
- [FTR-04 조건매매/자동매매 등록 및 감시](#ftr-04-조건매매자동매매-등록-및-감시)
- [FTR-05 AI 예측 결과 확인](#ftr-05-ai-예측-결과-확인)
- [FTR-06 주문/예측/알림 히스토리](#ftr-06-주문예측알림-히스토리)
- [FTR-07 실시간 알림 수신](#ftr-07-실시간-알림-수신)
- [FTR-08 관리자 대시보드](#ftr-08-관리자-대시보드)
- [FTR-09 계좌/거래소 연동](#ftr-09-계좌거래소-연동)

---

## FTR-01 메인 대시보드 요약

**설명:**  
서비스 접속 시 사용자별 포트폴리오·주문·AI예측·알림 등  
투자 현황을 한눈에 요약 제공.  
**실시간 데이터/주요 액션/상세 이동 지원.**

- **화면**
  - 자산·수익률 카드, 최근 주문·알림 목록, AI 예측 요약
  - 바로가기: 조건매매 등록, 주문, 알림
- **API**
  - `GET /dashboard/summary` (포트폴리오/주문/알림/예측 일괄 제공)
- **알림**
  - 새로운 주문/알림/예측 발생 시 실시간 반영(WebSocket)
- **예외**
  - 데이터 지연/누락 시 경고 표시 및 재시도 버튼
- **예시**
  - [조건매매 등록] 클릭 → 등록 화면 이동
  - 알림 클릭 → 해당 주문/예측 상세로 이동

---

## FTR-02 실시간 주가 조회

**설명:**  
종목명/코드 검색/선택으로 실시간 시세(주가, 호가, 거래량 등)  
조회 및 관심종목 추가/삭제, 복수 종목 동시 비교 지원

- **화면**
  - 종목 검색·자동완성, 실시간 차트, 관심종목 리스트
- **API**
  - `GET /price/:symbol` (단일)
  - `POST /watchlist` (관심종목 추가/삭제)
- **알림**
  - 가격 급변/목표가 도달 등 즉시 알림
- **예외**
  - 없는 코드/정지종목 검색 시 안내 메시지

---

## FTR-03 직접 주문/취소

**설명:**  
수동으로 주문 정보(종목, 가격, 수량, 주문유형 등) 입력,  
즉시 매수/매도/취소 및 결과 실시간 확인

- **화면**
  - 주문 입력 폼, 잔고/수수료 안내, 실시간 체결 상태
- **API**
  - `POST /order` (주문)
  - `DELETE /order/:id` (취소)
- **알림**
  - 주문 체결/실패 즉시 푸시
- **예외**
  - 잔고 부족/인증 만료 등 상세 에러 안내

---

## FTR-04 조건매매/자동매매 등록 및 감시

**설명:**  
사용자가 등록한 “조건(가격, 거래량, 외부지표 등)”이  
시장에 충족되면 자동으로 주문 실행  
(고점 돌파, 거래량 추종, AI 신호 등 복합 전략 지원)

- **화면**
  - 조건 등록·수정·삭제, 조건별 내역, 실시간 감시 상태
- **API**
  - `POST /condition` (등록)
  - `GET /condition/:id` (상태조회)
- **알림**
  - 조건 충족/실행/실패 즉시 알림
- **예외**
  - 조건 미충족 시 만료, 중복조건 경고 등

---

## FTR-05 AI 예측 결과 확인

**설명:**  
종목별/모델별 AI 예측치, 신뢰도, 백테스트 리포트 조회,  
모델 비교/업데이트 내역/근거 정보 제공

- **화면**
  - 예측 결과 카드, 신뢰도/변동성 시각화, 백테스트 그래프
- **API**
  - `GET /predict/:symbol?model=`
  - `GET /predict/history`
- **알림**
  - 신규 예측 결과/모델 업데이트 시 알림
- **예외**
  - 데이터 오류/모델 장애 등 안내

---

## FTR-06 주문/예측/알림 히스토리

**설명:**  
나의 주문, 조건매매, 예측, 알림 등 모든 히스토리 통합 조회/필터  
실시간 상태 추적, 상세내역 확인

- **화면**
  - 히스토리 표, 기간/유형별 필터, 상세 팝업
- **API**
  - `GET /history/order`
  - `GET /history/predict`
  - `GET /history/alert`
- **알림**
  - 미확인 알림 강조/상단 고정
- **예외**
  - 과거 데이터 누락/비정상 이력 안내

---

## FTR-07 실시간 알림 수신

**설명:**  
모든 주문·조건·예측·시스템 이벤트 알림을  
푸시/이메일/SMS 등 멀티채널로 실시간 제공,  
구독/해제 및 알림 우선순위 설정

- **화면**
  - 알림함, 구독/설정/해제 UI, 우선순위/종류별 분류
- **API**
  - `GET /alert`
  - `POST /alert/subscribe`
  - `POST /alert/unsubscribe`
- **알림**
  - 채널별 분류, 관리자 긴급 알림 별도
- **예외**
  - 푸시 거부/채널오류 시 안내

---

## FTR-08 관리자 대시보드

**설명:**  
실시간 운영 현황(주문/예측/알림/트래픽),  
모델 관리, 장애 감지, 감사로그 등  
전체 시스템 관리

- **화면**
  - 현황판, 통계 그래프, 모델 관리, 감사로그 탭
- **API**
  - `GET /admin/monitor`
  - `POST /admin/model`
- **알림**
  - 장애·이상 이벤트 관리자 푸시
- **예외**
  - 권한 미달시 접근불가 안내

---

## FTR-09 계좌/거래소 연동

**설명:**  
여러 증권사/거래소 계좌 등록/삭제,  
API 인증서/토큰 관리,  
계좌별 주문/조회, 신규 거래소 연동 플러그인

- **화면**
  - 계좌 리스트, 등록/삭제 폼, 인증상태, 거래내역
- **API**
  - `POST /account` (등록)
  - `DELETE /account/:id`
  - `GET /account/balance`
- **알림**
  - 인증 만료/연동 장애 시 알림
- **예외**
  - 인증 실패/계좌 중복 등 안내

---

> **Note:**  
> 본 문서는 실제 구현 설계, API 명세, UI/UX 설계, 알림/에러 처리 등  
> 팀별 협업 및 세부 Task 분배 기준으로 활용 가능!  
> 상세 동작/예외 시나리오/화면 예시 등은 기능별로  
> 자유롭게 추가·보완하세요.
