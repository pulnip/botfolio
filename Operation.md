# 서비스 운영 및 운영자 가이드 (Operation)

---

## 1. 개요

본 문서는 BotFolio 서비스의 **운영/배포/모니터링/장애 대응/보안 정책** 등  
운영자·관리자를 위한 관리 절차 및 실무 매뉴얼을 제공합니다.

---

## 2. 서비스 운영 환경

- **배포 환경:**  
  - AWS(EC2, RDS, S3), Azure, 온프레미스 등
- **운영 서버:**  
  - API 서버, AI 예측 엔진, 거래소 API 중계, 알림 서버, DB 서버
- **배포 방식:**  
  - CI/CD(자동 배포), Blue-Green/Canary 배포 지원
- **백업 정책:**  
  - 매일/주별 DB 자동 백업, 주기적 스냅샷, 장애 복구 테스트

---

## 3. 모니터링 및 알림

- **실시간 모니터링 시스템**
  - Grafana/Prometheus/NewRelic 등 사용
  - 주요 지표: 트래픽, 주문 성공률, 예측 엔진 응답속도, DB 쿼리, 알림 발송 성공률
- **알림 시스템**
  - 장애/이상감지 시 운영자 알림(슬랙, 이메일, SMS)
  - 장애 유형별(치명/경고/통계) 우선순위 설정
- **로그/감사**
  - 모든 주문/예측/알림/시스템 이벤트는 로그로 저장
  - 장애/오류 로그는 별도 장기 보관 및 감사 대응

---

## 4. 장애/에러 대응

- **주요 장애 시나리오**
  1. **API 서버 장애:**  
     - 자동 Failover(스탠바이 서버로 전환), 트래픽 분산
     - 장애 시 운영자 즉시 알림, 원인 분석 후 Hotfix 적용
  2. **AI 예측 엔진 장애:**  
     - 이전 버전으로 자동 롤백, 예측 요청 임시 대기
     - 예측 실패 시 사용자에게 공지 및 재시도
  3. **거래소 API 연동 실패:**  
     - 재시도/대체 거래소 자동전환(HotSwap)
     - 연동 실패 이력 관리자 알림 및 수동 조치
  4. **알림 서비스 지연/실패:**  
     - 미전송 알림 자동 재시도, 대체 채널 사용
     - 실패 이력 관리자 대시보드에서 확인 가능
  5. **DB 장애/데이터 유실:**  
     - 백업에서 신속 복구(최대 24시간 내)
     - 복구 이력/유실 범위 관리자 통보

---

## 5. 보안 및 계정 관리

- **접근 제어:**  
  - 관리자/운영자 역할 구분, 최소 권한 원칙(Least Privilege)
  - 2FA(이중 인증) 필수
- **API/DB 보안:**  
  - 모든 트래픽 TLS/SSL 암호화
  - 주요 계좌·주문 데이터는 별도 암호화 필드 적용
- **개인정보/로그:**  
  - 접근 로그/감사 기록 3년 이상 보관
  - 개인정보 삭제/익명화 정책 시행

---

## 6. 운영자 주요 매뉴얼

- **배포 매뉴얼:**  
  1. 신규 버전 배포 시 `main` 브랜치에서 빌드
  2. 배포 전 주요 기능 통합 테스트/롤백 시나리오 체크
  3. 배포 후 실시간 모니터링 및 알림 감시
- **긴급 장애 대응:**  
  - 장애 감지 즉시 운영자 알림 → 긴급 대응 담당자 지정
  - 서비스 상태/로그/이력 신속 확인 → Hotfix 또는 롤백 결정
- **일상 점검:**  
  - 서버 자원(메모리, 디스크, 트래픽) 주기적 점검
  - 거래소 API/외부 연동 정상 여부 확인
  - AI 모델 업데이트 이력 및 이상 데이터 확인

---

## 7. FAQ 및 참고

- **자주 묻는 질문**
  - Q. 실시간 알림이 누락되는 경우?  
    → 알림 서비스 상태/채널 설정, 사용자 푸시 동의 체크, 로그 확인
  - Q. 거래소 인증 만료 시?  
    → 인증서/토큰 갱신 후 계좌 재연동, 운영자 대시보드 알림
  - Q. DB 장애 복구 절차?  
    → 최근 백업에서 복원, 복구 후 데이터 정합성 검증, 장애 보고

- **참고 문서**
  - [Architecture.md](./Architecture.md)
  - [FeatureDesign.md](./FeatureDesign.md)
  - 운영/보안 정책 별도 관리 문서

---

> **Note:**  
> 실제 프로덕션 운영 환경/툴/장애 시나리오에 맞춰  
> 자유롭게 상세화/커스터마이즈해서 사용하세요!
